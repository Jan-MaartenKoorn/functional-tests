!*> Lokale variabelen

!define publicatiestart {!-Datum online / offline
@start / @stop-!}

*!

|scenario|Open Npo Poms website|
|open    |${UrlPoms}           |

|scenario     |Wacht tot inlogscherm van Npo Poms geladen|
|wait for page|Log in met POMS Test-omgeving             |

|scenario     |Wacht tot tabblad|tabblad|geopend in hoofdscherm van Npo Poms|
|wait for page|POMS - @tabblad                                              |

|scenario         |Wacht tot tabblad Zoeken geopend in hoofdscherm van Npo Poms|
|Wacht tot tabblad|Zoek                 |geopend in hoofdscherm                |

|scenario   |Log in met standaard-gebruiker in Npo Poms      |
|Wacht tot inlogscherm van Npo Poms geladen                  |
|enter      |$standaardGebruikersnaam   |as   |id=username   |
|enter      |$standaardWachtwoord       |as   |id=password   |
|click      |Inloggen                                        |
|Wacht tot tabblad Zoeken geopend in hoofdscherm van Npo Poms|

|scenario |Log uit in Npo Poms|
|click    |VF Specialisterren |
|click    |log uit            |
|Wacht tot inlogscherm geladen|

|scenario|Vul   |tekst|in zoekveld  |
|enter   |@tekst|as   |xpath=//input|

|scenario|Check titel van laatste tab|titel                                                                          |
|check   |value of                   |xpath=//ul[@class="nav nav-tabs"]/li[last()-1]//span[@class="tab-title"]|@titel|

|scenario             |Check subtitel van laatste tab|subtitel                                                                                        |
|$subtitelInUpperCase=|convert to upper case         |@subtitel                                                                  |                    |
|check                |value of                      |xpath=//ul[@class="nav nav-tabs"]/li[last()-1]//span[@class="tab-subtitle"]|$subtitelInUpperCase|

|scenario|Check hoofdtitel|hoofdtitel                                                    |
|check   |value of        |xpath=//span[@class="media breadcrumb-link-title"]|@hoofdtitel|
|check   |value of        |xpath=//h1[@class="viewer-title"]                 |@hoofdtitel|

|scenario              |Check media type     |mediaType                                                                   |
|$mediaTypeInUpperCase=|convert to upper case|@mediaType                                            |                     |
|check                 |value of             |xpath=//span[@class="media breadcrumb-link-type"]/span|$mediaTypeInUpperCase|
|check                 |value of             |xpath=//h2[@class="viewer-media-type"]/span[1]        |@mediaType -         |
|check                 |value of             |xpath=//h2[text()="Type"]/following-sibling::p        |@mediaType           |

|scenario                           |Check publicatiestart met start|start                                         |en stop |stop                     |
|$scenarioLibrary_hoofdscherm_start=|extract string                 |@start                                        |from    |(.+?) 00:00|using group|1|
|check                              |value of                       |xpath=//h2[@class="viewer-media-type"]/span[2]|$scenarioLibrary_hoofdscherm_start|
|check                              |value of                       |xpath=//div[@class="pickers"]                 |${publicatiestart}                |

|scenario|Check veldtype 1|veld                                                  |heeft waarde|waarde|
|check   |value of        |xpath=//h2[text()="@veld"]/following-sibling::div/span|@waarde            |

|scenario|Check veldtype 2|veld                                           |heeft waarde|waarde|
|check   |value of        |xpath=//h2[text()="@veld"]/following-sibling::p|@waarde            |

|scenario|Check status|status                                                    |
|check   |value of    |xpath=//h2[text()="Status"]/following-sibling::*/p|@status|

|scenario  |Hover over object                 |objectNaam                |in zoekresultaten                |
|hover over|xpath=//table/tbody/tr[./td[@class="column-title"]/span/span[normalize-space(.)="@objectNaam"]]|

|scenario|Druk op editknop bij object                             |objectNaam                             |in zoekresultaten                            |
|click   |xpath=//table/tbody/tr[./td[@class="column-title"]/span/span[normalize-space(.)="@objectNaam"]]/td[@class="column-tools"]/div/a[@title="edit"]|

|scenario|Check mid active                                              |
|ensure  |is visible on page|xpath=//span[text()="Mid"][@class="active"]|

|scenario|Check urn active                                              |
|ensure  |is visible on page|xpath=//span[text()="Urn"][@class="active"]|

|scenario|Check mid or urn|midOrUrn                                                                                    |
|check   |value of        |xpath=//h2[normalize-space(.)="Mid Urn"]/following-sibling::p/poms-clipboard/input|@midOrUrn|
