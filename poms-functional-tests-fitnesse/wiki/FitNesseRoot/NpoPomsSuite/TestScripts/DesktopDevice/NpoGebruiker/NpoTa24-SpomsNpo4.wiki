---
Test
---
!*> Lokale variabelen

!define mediatype1 {Uitzending}
!define mediatype2 {Clip}
!define criteria1 {Mag schrijven}
!define criteria2 {Beschikbaar op streaming platform}
!define avType {Video}
!define zender1 {!-Nederland 3 & Zapp-!}
!define zender2 {Nederland 2}
!define objectNummer {3}

!define beschrijving2 {test 1}
!define korteBeschrijving2 {test 2}
!define origineleTitel2 {test 3}

*!

|script                                                                                                                               |
|Open Npo poms website                                                                                                                |
|Npo poms Inlogscherm Log in met npo                                                                                                  |
|Npo poms Zoeken Selecteer optie                           |${mediatype1}            |in dropdown      |!-MediaType-!                 |
|Npo poms Zoeken Selecteer optie                           |${criteria1}             |in dropdown      |Criteria                      |
|Npo poms Zoeken Selecteer optie                           |${avType}                |in dropdown      |!-avType-!                    |
|Npo poms Zoeken Selecteer optie                           |${zender1}               |in dropdown      |Zenders                       |
|wait for visible                                          |Gezocht naar: ${mediatype1}, ${zender1}, ${avType}, ${criteria1}          |
|Npo poms Zoeken Sla hoofdtitel van object nummer          |${objectNummer}          |op in var        |titelVanObject                |
|Npo poms Zoeken Sla type van object nummer                |${objectNummer}          |op in var        |typeVanObject                 |
|Npo poms Zoeken Dubbelklik op hoofdtitel van object nummer|${objectNummer}                                                           |
|Npo poms Hoofdscherm Wacht tot tabblad                    |$titelVanObject          |geopend                                         |
|Npo poms Hoofdscherm Check titel van laatste tab          |$titelVanObject                                                           |
|Npo poms Hoofdscherm Check subtitel van laatste tab       |$typeVanObject                                                            |
|Npo poms Tabblad object Sla veldtype 2                    |Uitzending (1)           |op in var        |uitzending                    |
|Npo poms Tabblad object Sla mid of urn op in var          |mid                                                                       |
|Npo poms Tabblad object Druk op link                      |Uitzendingen             |in sidebar                                      |
|wait for visible                                          |Kanaal                                                                    |
|set search context to                                     |xpath=//poms-scheduleevents                                               |
|double click                                              |${zender1}                                                                |
|clear search context                                                                                                                 |
|Npo poms Tabblad object Detailscherm Selecteer optie      |${zender2}               |in dropdown      |Kanaal:                       |
|Npo poms Tabblad object Detailscherm Sla datepicker       |Starttijd:               |op in var        |starttijd1                    |
|$starttijd2=                                              |increase date            |$starttijd1      |with hours         |-1        |
|Npo poms Tabblad object Detailscherm Sla textarea         |Beschrijving             |op in var        |beschrijving1                 |
|Npo poms Tabblad object Detailscherm Sla textarea         |Korte beschrijving       |op in var        |korteBeschrijving1            |
|Npo poms Tabblad object Detailscherm Vul                  |$starttijd2              |in datepicker    |Starttijd:                    |
|Npo poms Tabblad object Detailscherm Vul                  |${beschrijving2}         |in textarea      |Beschrijving                  |
|Npo poms Tabblad object Detailscherm Vul                  |${korteBeschrijving2}    |in textarea      |Korte beschrijving            |
|scroll to                                                 |Originele titel                                                           |
|Npo poms Tabblad object Detailscherm Sla tekstveld        |Originele titel          |op in var        |origineleTitel1               |
|Npo poms Tabblad object Detailscherm Vul                  |${origineleTitel2}       |in tekstveld     |Originele titel               |
|click                                                     |Bewaar                                                                    |
|wait for not visible                                      |Bewaar                                                                    |
|Npo poms Tabblad object Druk op link                      |Algemeen                 |in sidebar                                      |
|wait for visible                                          |Sorteerdatum                                                              |
|Npo poms Tabblad object Check veldtype 2                  |Uitzending (1)           |heeft waarde     |$starttijd2 (${zender2})      |
|Npo poms Tabblad object Check veldtype 2                  |Sorteerdatum             |heeft waarde     |$starttijd2                   |
|Npo poms Tabblad object Druk op link                      |Uitzendingen             |in sidebar                                      |
|wait for visible                                          |Kanaal                                                                    |
|set search context to                                     |xpath=//poms-scheduleevents                                               |
|ensure                                                    |is visible on page       |${zender2}                                      |
|ensure                                                    |is visible on page       |$starttijd2                                     |
|double click                                              |${zender2}                                                                |
|clear search context                                                                                                                 |
|Npo poms Tabblad object Detailscherm Check dropdown       |Kanaal:                  |heeft waarde     |${zender2}                    |
|Npo poms Tabblad object Detailscherm Check datepicker     |Starttijd:               |heeft waarde     |$starttijd2                   |
|Npo poms Tabblad object Detailscherm Check textarea       |Beschrijving             |heeft waarde     |${beschrijving2}              |
|Npo poms Tabblad object Detailscherm Check textarea       |Korte beschrijving       |heeft waarde     |${korteBeschrijving2}         |
|scroll to                                                 |Originele titel                                                           |
|Npo poms Tabblad object Detailscherm Check tekstveld      |Originele titel          |heeft waarde     |${origineleTitel2}            |
|Npo poms Tabblad object Detailscherm Druk op kruisje om pop-up te sluiten                                                            |
|Npo poms Hoofdscherm Sluit laatste tab                                                                                               |
|Npo poms Zoeken Vul                                       |$mid                     |in zoekveld                                     |
|Npo poms Zoeken Druk knop                                 |Zoeken                                                                    |
|wait for visible                                          |Gezocht naar: '$mid' in ${mediatype1}, ${zender1}, ${avType}, ${criteria1}|
|Npo poms Zoeken Check aantal zoekresultaten               |0                                                                         |
|Npo poms Hoofdscherm Sluit laatste tab                                                                                               |
|Npo poms Zoeken Vul                                       |$mid                     |in zoekveld                                     |
|Npo poms Zoeken Druk knop                                 |Zoeken                                                                    |
|wait for visible                                          |Gezocht naar: '$mid'                                                      |
|Npo poms Zoeken Sla hoofdtitel van eerste object op in var|titelVanObject                                                            |
|Npo poms Zoeken Sla type van eerste object op in var      |typeVanObject                                                             |
|Npo poms Zoeken Dubbelklik op hoofdtitel van eerste object                                                                           |
|Npo poms Hoofdscherm Wacht tot tabblad                    |$titelVanObject          |geopend                                         |
|Npo poms Hoofdscherm Check titel van laatste tab          |$titelVanObject                                                           |
|Npo poms Hoofdscherm Check subtitel van laatste tab       |$typeVanObject                                                            |
|Npo poms Tabblad object Druk op link                      |Uitzendingen             |in sidebar                                      |
|wait for visible                                          |Kanaal                                                                    |
|set search context to                                     |xpath=//poms-scheduleevents                                               |
|double click                                              |${zender2}                                                                |
|clear search context                                                                                                                 |
|Npo poms Tabblad object Detailscherm Selecteer optie      |${zender1}               |in dropdown      |Kanaal:                       |
|Npo poms Tabblad object Detailscherm Vul                  |$starttijd1              |in datepicker    |Starttijd:                    |
|Npo poms Tabblad object Detailscherm Vul                  |$beschrijving1           |in textarea      |Beschrijving                  |
|Npo poms Tabblad object Detailscherm Vul                  |$korteBeschrijving1      |in textarea      |Korte beschrijving            |
|scroll to                                                 |Originele titel                                                           |
|Npo poms Tabblad object Detailscherm Vul                  |$origineleTitel1         |in tekstveld     |Originele titel               |
|click                                                     |Bewaar                                                                    |
|wait for not visible                                      |Bewaar                                                                    |
|Npo poms Tabblad object Druk op link                      |Algemeen                 |in sidebar                                      |
|wait for visible                                          |Sorteerdatum                                                              |
|Npo poms Tabblad object Check veldtype 2                  |Uitzending (1)           |heeft waarde     |$uitzending                   |
|Npo poms Hoofdscherm Sluit laatste tab                                                                                               |
|Npo poms Hoofdscherm Sluit laatste tab                                                                                               |
|Npo poms Zoeken Selecteer optie                           |${mediatype1}            |in dropdown      |!-MediaType-!                 |
|Npo poms Zoeken Selecteer optie                           |${criteria1}             |in dropdown      |Criteria                      |
|Npo poms Zoeken Selecteer optie                           |${avType}                |in dropdown      |!-avType-!                    |
|Npo poms Zoeken Selecteer optie                           |${zender1}               |in dropdown      |Zenders                       |
|Npo poms Zoeken Vul                                       |$mid                     |in zoekveld                                     |
|Npo poms Zoeken Druk knop                                 |Zoeken                                                                    |
|wait for visible                                          |Gezocht naar: '$mid' in ${mediatype1}, ${zender1}, ${avType}, ${criteria1}|
|Npo poms Zoeken Check aantal zoekresultaten               |1                                                                         |
|Npo poms Hoofdscherm Sluit laatste tab                                                                                               |
|Npo poms Hoofdscherm Sluit laatste tab                                                                                               |
|Npo poms Hoofdscherm Log uit                                                                                                         |
